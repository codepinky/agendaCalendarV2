# ============================================
# Agenda Calendar Backend - Variáveis de Ambiente
# ============================================
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para .env: cp .env.example .env
# 2. Preencha os valores conforme suas configurações
# 3. NUNCA commite o arquivo .env no Git (já está no .gitignore)
#
# Para mais detalhes, consulte: docs/VARIAVEIS_AMBIENTE.md
# ============================================

# ============================================
# CONFIGURAÇÕES GERAIS
# ============================================

# Porta onde o servidor Express irá rodar
# Padrão: 3000
PORT=3000

# Ambiente de execução
# Valores: development | production
# Padrão: development
NODE_ENV=production

# URL do frontend para CORS e redirecionamentos
# Exemplo: https://agendacalendar-cae1a.web.app
# Ou: http://localhost:5173 (desenvolvimento)
CORS_ORIGIN=https://agendacalendar-cae1a.web.app

# URL base da API (usado na documentação Swagger)
# Opcional: Se não configurado, usa http://localhost:3000
API_URL=https://agendacalendar.duckdns.org

# ============================================
# FIREBASE (OBRIGATÓRIO)
# ============================================

# ID do projeto Firebase
# Onde encontrar: Firebase Console > Project Settings > General
FIREBASE_PROJECT_ID=seu-projeto-id

# Chave privada do Service Account do Firebase
# Onde encontrar: Firebase Console > Project Settings > Service Accounts > Generate new private key
# IMPORTANTE: Mantenha as quebras de linha (\n) ou use aspas duplas
# Formato: "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nSUA_CHAVE_PRIVADA_AQUI\n-----END PRIVATE KEY-----\n"

# Email do Service Account do Firebase
# Onde encontrar: Firebase Console > Project Settings > Service Accounts
# Formato: firebase-adminsdk-xxxxx@projeto.iam.gserviceaccount.com
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@seu-projeto.iam.gserviceaccount.com

# ============================================
# GOOGLE CALENDAR (OPCIONAL)
# ============================================
# Necessário apenas se você quiser integração com Google Calendar
# Se não configurar, a funcionalidade de Google Calendar ficará desabilitada

# Client ID do OAuth 2.0 do Google
# Onde encontrar: Google Cloud Console > APIs & Services > Credentials
# Formato: xxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_ID=seu-client-id.apps.googleusercontent.com

# Client Secret do OAuth 2.0 do Google
# Onde encontrar: Google Cloud Console > APIs & Services > Credentials
GOOGLE_CLIENT_SECRET=seu-client-secret

# URI de redirecionamento do OAuth
# Deve estar configurado no Google Cloud Console
# Formato: https://agendacalendar.duckdns.org/api/google-calendar/callback
# Ou: http://localhost:3000/api/google-calendar/callback (desenvolvimento)
GOOGLE_REDIRECT_URI=https://agendacalendar.duckdns.org/api/google-calendar/callback

# ============================================
# WEBHOOKS (OBRIGATÓRIO para webhooks)
# ============================================

# Secret compartilhado entre n8n e backend
# Usado para autenticar webhooks do n8n
# Deve ser o mesmo valor configurado no n8n
# Gere uma string aleatória segura (mínimo 32 caracteres)
WEBHOOK_BRIDGE_SECRET=seu_secret_aleatorio_aqui_minimo_32_caracteres

# Secret do webhook da Kiwify (OPCIONAL)
# Usado para validar assinatura HMAC SHA256 dos webhooks da Kiwify
# Onde encontrar: Painel Kiwify > Configurações > Webhooks
# Se não configurar, a validação será ignorada (com aviso no log)
KIWIFY_WEBHOOK_SECRET=seu_secret_da_kiwify_aqui
